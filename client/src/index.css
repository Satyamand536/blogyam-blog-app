@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Merriweather:wght@300;400;700&display=swap');

@import "tailwindcss";

@theme {
  --font-sans: 'Inter', sans-serif;
  --font-serif: 'Merriweather', serif;

  /* Light Orange / Peach Palette */
  --color-primary-50: #fff7ed;
  --color-primary-100: #ffedd5;
  --color-primary-200: #fed7aa;
  --color-primary-300: #fdba74;
  --color-primary-400: #fb923c;
  --color-primary-500: #f97316; 
  --color-primary-600: #ea580c; 
  
  /* The specific light orange from the image */
  --color-brand-orange: #ffb38a; 
  --color-brand-peach: #ffd4bc;

  --color-navy-950: #0f172a; 
  
  --color-wisdom-100: #fef3c7;
  --color-wisdom-200: #fde68a;
  --color-wisdom-500: #f59e0b;
  --color-wisdom-900: #78350f;

  --animate-fade-in: fadeIn 0.5s ease-out;
  --animate-slide-up: slideUp 0.5s ease-out;

  @keyframes fadeIn {
    0% { opacity: 0; }
    100% { opacity: 1; }
  }
  @keyframes slideUp {
    0% { transform: translateY(20px); opacity: 0; }
    100% { transform: translateY(0); opacity: 1; }
  }
}

:root {
  /* Light Theme - Orange/White/Peach */
  --bg-primary: #ffffff;
  --bg-secondary: #fff1e6;
  --bg-card: #ffffff;
  --text-primary: #000000;
  --text-secondary: #222222; /* Darker for better contrast */
  --border-color: #e5e5e5;
  
  /* Glassmorphism - Light Mode */
  --glass-bg: rgba(255, 255, 255, 0.8); /* More opaque */
  --glass-border: rgba(0, 0, 0, 0.1);
  --glass-shadow: 0 4px 16px 0 rgba(0, 0, 0, 0.1);
  
  /* Fluid Typography Scale */
  --fluid-body: clamp(1rem, 0.95rem + 0.25vw, 1.125rem);
  --fluid-h1: clamp(2rem, 1.5rem + 2.5vw, 3.5rem);
  --fluid-h2: clamp(1.5rem, 1.25rem + 1.25vw, 2.25rem);
}

[data-theme="dark"] {
  /* Dark Theme - Purple/Indigo */
  --bg-primary: #020617;
  --bg-secondary: #0f172a;
  --bg-card: rgba(30, 41, 59, 0.7);
  --text-primary: #f8fafc;
  --text-secondary: #cbd5e1;
  --border-color: rgba(255, 255, 255, 0.1);
  
  /* Glassmorphism - Dark Mode */
  --glass-bg: rgba(255, 255, 255, 0.05);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.8);
}

@layer base {
  body {
    @apply font-sans antialiased transition-colors duration-500 ease-in-out;
    /* Light Theme - Orange/Peach/White Gradient */
    background: linear-gradient(180deg, #ffb38a 0%, #ffd4bc 25%, #ffffff 50%, #e0f2fe 100%);
    background-attachment: fixed;
    min-height: 100vh;
    color: var(--text-primary);
    font-size: var(--fluid-body);
    line-height: 1.6;
    letter-spacing: -0.01em;
  }
  
  [data-theme="dark"] body {
    /* Dark Theme - Purple/Indigo Gradient */
    background: linear-gradient(135deg, #020617 0%, #1e1b4b 50%, #020617 100%);
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-serif transition-colors duration-500;
    color: var(--text-primary);
    line-height: 1.25;
    letter-spacing: -0.02em;
  }
  
  html {
    scroll-behavior: smooth;
  }
}

@layer components {
  /* Black Buttons as requested */
  .btn-primary {
    @apply px-8 py-3 bg-black text-white font-bold rounded-lg;
    @apply hover:bg-gray-800 hover:scale-105;
    @apply transition-all duration-200 shadow-xl shadow-black/20 active:scale-95;
    text-transform: none; /* Keep natural case or use uppercase if preferred, user example has mixed */
  }
  
  .glass-panel {
    @apply bg-white/40 backdrop-blur-xl border border-white/20 shadow-xl;
  }
  
  [data-theme="dark"] .glass-panel {
    @apply bg-white/5 backdrop-blur-xl border border-white/10;
  }

  .glass-card {
    @apply bg-white/60 backdrop-blur-2xl border border-white/20 shadow-[0_8px_32px_0_rgba(0,0,0,0.1)];
  }
  
  [data-theme="dark"] .glass-card {
    @apply bg-black/40 backdrop-blur-2xl border border-white/10 shadow-[0_8px_32px_0_rgba(0,0,0,0.8)];
  }

  .btn-wisdom {
    @apply bg-black text-white px-6 py-2 rounded-lg font-medium hover:bg-gray-800 transition-all shadow-md;
  }
  
  .card {
    @apply rounded-xl shadow-lg border-0 hover:shadow-xl transition-all p-6;
    background-color: var(--bg-card);
    /* Subtle border for separation */
    border: 1px solid rgba(0,0,0,0.05);
  }
  
  .input-field {
    @apply w-full px-4 py-3 rounded-lg border-2 focus:outline-none focus:ring-0 transition-all duration-300;
    background-color: #f9f9f9;
    border-color: #e5e5e5;
    color: var(--text-primary);
  }

  .input-field:focus {
    @apply border-black bg-white;
  }

  /* Force Autofill Text Color to Black (Fixes White-on-White) */
  input:-webkit-autofill,
  input:-webkit-autofill:hover, 
  input:-webkit-autofill:focus, 
  input:-webkit-autofill:active {
    -webkit-text-fill-color: black !important;
    transition: background-color 5000s ease-in-out 0s;
  }
  
  /* Force dark mode autofill to be white if needed, but given the white bg in light mode, we prioritize black */
  [data-theme="dark"] input:-webkit-autofill,
  [data-theme="dark"] input:-webkit-autofill:hover, 
  [data-theme="dark"] input:-webkit-autofill:focus, 
  [data-theme="dark"] input:-webkit-autofill:active {
      -webkit-text-fill-color: white !important;
  }

  /* --- CRITICAL FIX: FORCE INPUT TEXT COLORS --- */
  /* Normal manual typing and focused states */
  html:not(.dark) input.force-text-visibility,
  html:not([data-theme="dark"]) input.force-text-visibility,
  #root input:not([type="submit"]):not([type="button"]):not(.dark *),
  .glass-card input:not([type="submit"]) {
      color: #000000 !important;
      background-color: #ffffff !important;
      -webkit-text-fill-color: #000000 !important;
      caret-color: #000000 !important;
      opacity: 1 !important;
  }

  /* Placeholder visibility */
  html:not(.dark) input::placeholder,
  html:not([data-theme="dark"]) input::placeholder {
      color: #6b7280 !important; /* gray-500 */
      opacity: 1 !important;
  }

  /* Maintain White for Dark Mode */
  html.dark input:not([type="submit"]):not([type="button"]), 
  html.dark textarea,
  html[data-theme="dark"] input:not([type="submit"]):not([type="button"]), 
  html[data-theme="dark"] textarea {
      color: #ffffff !important;
      -webkit-text-fill-color: #ffffff !important;
      caret-color: #ffffff !important;
  }

/* Custom Quill Font Sizes */
.ql-editor .ql-size-12px { font-size: 12px; }
.ql-editor .ql-size-14px { font-size: 14px; }
.ql-editor .ql-size-16px { font-size: 16px; }
.ql-editor .ql-size-18px { font-size: 18px; }
.ql-editor .ql-size-20px { font-size: 20px; }
.ql-editor .ql-size-24px { font-size: 24px; }
.ql-editor .ql-size-28px { font-size: 28px; }
.ql-editor .ql-size-32px { font-size: 32px; }
.ql-editor .ql-size-36px { font-size: 36px; }
.ql-editor .ql-size-48px { font-size: 48px; }
.ql-editor .ql-size-64px { font-size: 64px; }
  /* Premium Blog Content Styling */
  .blog-content {
    @apply max-w-3xl mx-auto font-serif;
  }

  .blog-content p {
    @apply leading-relaxed mb-6 text-lg transition-colors duration-500;
    color: var(--text-secondary);
    line-height: 1.8;
  }

  [data-theme="dark"] .blog-content p {
    @apply text-slate-100;
  }

  .blog-content p:first-of-type {
    @apply text-xl;
  }

  /* Drop cap for first paragraph */
  .blog-content.with-drop-cap p:first-of-type::first-letter {
    @apply float-left text-6xl font-bold text-primary-600 leading-none mr-2 mt-1;
    font-family: 'Merriweather', serif;
  }

  /* Quote blocks */
  .quote-block {
    @apply border-l-4 border-primary-500 bg-primary-50 pl-6 pr-4 py-4 my-8 italic rounded-r-lg;
  }

  .quote-block p {
    @apply text-slate-800 text-xl leading-relaxed mb-2;
  }

  .quote-block cite {
    @apply text-slate-600 text-sm not-italic font-semibold block mt-2;
  }

  /* Blog separator */
  .blog-separator {
    @apply my-12 flex items-center justify-center;
  }

  .blog-separator::before {
    content: '***';
    @apply text-slate-300 text-2xl tracking-widest;
  }

  /* Headings within blog content */
  .blog-content h2 {
    @apply text-3xl font-bold mt-12 mb-6 transition-colors duration-500;
    color: var(--text-primary);
  }

  .blog-content h3 {
    @apply text-2xl font-bold mt-10 mb-4 transition-colors duration-500;
    color: var(--text-primary);
  }

  .blog-content h4 {
    @apply text-xl font-semibold mt-8 mb-3 transition-colors duration-500;
    color: var(--text-primary);
  }

  /* Highlighted text */
  .blog-content mark {
    @apply bg-wisdom-100 text-slate-900 px-1 rounded;
  }

  /* Links in blog content */
  .blog-content a {
    @apply text-primary-600 hover:text-primary-500 underline decoration-primary-300 hover:decoration-primary-500 transition-colors;
  }

  /* Lists in blog content */
  .blog-content ul, .blog-content ol {
    @apply my-6 pl-8 space-y-2;
  }

  .blog-content li {
    @apply leading-relaxed transition-colors duration-500;
    color: var(--text-secondary);
  }

  [data-theme="dark"] .blog-content li {
    @apply text-slate-300;
  }

  /* Code blocks in blog content */
  .blog-content code {
    @apply bg-slate-100 text-slate-800 px-2 py-1 rounded text-base font-mono;
  }

  .blog-content pre {
    @apply bg-slate-900 text-slate-100 p-4 rounded-lg overflow-x-auto my-6;
  }

  .blog-content pre code {
    @apply bg-transparent text-slate-100 p-0;
  }

  /* Force premium tag styling for Light Mode */
  .premium-tag-fix {
    background-color: #000000 !important;
    color: #ffffff !important;
    border-color: #000000 !important;
  }

  [data-theme="dark"] .premium-tag-fix {
    background-color: revert !important;
    color: revert !important;
    border-color: revert !important;
  }
}

/* === Core Web Vitals Optimizations === */

/* CLS Prevention: Reserve space for dynamic content */
.blog-card-skeleton {
  min-height: 380px;
}

.hero-gif-container {
  min-height: 400px;
  width: 100%;
}

@media (max-width: 768px) {
  .hero-gif-container {
    min-height: 350px;
  }
}

@media (max-width: 480px) {
  .hero-gif-container {
    min-height: 300px;
  }
}

/* INP Optimization: Remove tap highlights and smooth interactions */
button, a {
  -webkit-tap-highlight-color: transparent;
}

button:active, a:active {
  transition: transform 0.1s ease-out;
}

/* Rendering Performance: Content visibility for blog grids */
.blog-grid {
  content-visibility: auto;
  contain-intrinsic-size: auto 400px;
}

/* CLS Prevention: Ensure images don't shift layout */
img {
  max-width: 100%;
  height: auto;
}

/* Accessibility & Performance: Reduced motion */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}
